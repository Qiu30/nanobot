services:
  nanobot:
    image: nanobot:latest
    container_name: nanobot
    restart: unless-stopped
    ports:
      - "18790:18790"
    volumes:
      - nanobot-sessions:/root/.nanobot/sessions
      - nanobot-workspace:/root/.nanobot/workspace
      - ~/.nanobot/config.json:/root/.nanobot/config.json:ro
    environment:
      - PYTHONIOENCODING=utf-8
      - ANTHROPIC_API_KEY=${ANTHROPIC_API_KEY}
      - ANTHROPIC_BASE_URL=${ANTHROPIC_BASE_URL}
    command: gateway

volumes:
  nanobot-sessions:
  nanobot-workspace:
